import{d as C,P as S,c as N,A as g,h as k,B as T,e as n,k as i,b as x,v as M,s as l,O as b,j as y,u as O,K as h,C as $,l as _,M as V,Q as I,T as P,_ as A,r as w,R as E,G as F}from"./index-b2c0d808.js";const U={key:1,class:"title"},j=C({name:"Dialog",__name:"Dialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},closeOnClickMask:{type:Boolean,default:!0},alignCenter:{type:Boolean,default:!1},width:{type:[String,Number],default:800},top:{type:[String,Number],default:130},handleOk:{type:Function},cancel:{type:Function}},emits:["update:visible"],setup(t,{emit:a}){const e=t,d=S(),u=N(()=>({minWidth:e.width+"px",top:e.top+"px",...e.alignCenter?{top:"50%",transform:"translate(-50%, -50%)"}:{}})),o=()=>{a("update:visible",!1)},f=()=>{e.closeOnClickMask&&o()},c=()=>{e.cancel&&e.cancel(),o()},r=()=>{e.handleOk&&e.handleOk(),o()};return(s,v)=>{const p=g("Iconify"),m=g("el-button");return k(),T(P,{to:"body"},[n(b,{name:"fade"},{default:i(()=>[x(l("div",{class:"dialog-mask",onClick:f},null,512),[[M,t.visible]])]),_:1}),n(b,{name:t.alignCenter?"dialog-y":"dialog"},{default:i(()=>[t.visible?(k(),y("div",V({key:0,class:"dialog",style:u.value},s.$attrs),[l("header",null,[O(d).title?h(s.$slots,"title",{key:0},void 0,!0):(k(),y("span",U,$(t.title),1)),l("span",{class:"close-icon",onClick:o},[n(p,{icon:"close"})])]),l("main",null,[h(s.$slots,"content",{},void 0,!0)]),l("footer",null,[n(m,{onClick:c},{default:i(()=>[_("取消")]),_:1}),n(m,{type:"primary",onClick:r},{default:i(()=>[_("确认")]),_:1})])],16)):I("",!0)]),_:3},8,["name"])])}}}),B=A(j,[["__scopeId","data-v-16901b8f"]]),G=t=>{const{title:a,content:e,closeOnClickMask:d,alignCenter:u,width:o,top:f,handleOk:c,cancel:r}=t,s=()=>{p.value=!1,setTimeout(()=>{m.unmount(),v.remove()},200)},v=document.createElement("div");document.body.appendChild(v);const p=w(!1);setTimeout(()=>{p.value=!0},0);const m=E({render(){return F(B,{visible:p.value,"onUpdate:visible":D=>{D||s()},closeOnClickMask:d,alignCenter:u,width:o,top:f,handleOk:c,cancel:r},{title:()=>a,content:()=>e})}});m.mount(v)},K={class:"bg-white dark:bg-dark p-4"},Q={class:"mt-4"},R=l("p",null,"第一行",-1),W=l("p",null,"第二行",-1),z=C({name:"dialogPage",__name:"dialog",setup(t){const a=w(!1),e=()=>{a.value=!0},d=()=>(console.log("确认"),!0),u=()=>{console.log("取消")},o=()=>{G({title:"标题",content:"这里是内容",visible:!0,handleOk:()=>{console.log("确认")},cancel:()=>{console.log("取消")}})};return(f,c)=>{const r=g("el-button");return k(),y("div",K,[n(r,{type:"primary",onClick:e},{default:i(()=>[_("打开对话框")]),_:1}),l("div",Q,[n(r,{type:"primary",onClick:o},{default:i(()=>[_("函数式调用对话框")]),_:1})]),n(O(B),{visible:a.value,"onUpdate:visible":c[0]||(c[0]=s=>a.value=s),title:"测试标题",handleOk:d,cancel:u},{content:i(()=>[R,W]),_:1},8,["visible"])])}}});export{z as default};
